
@using KjNet.SqlDoc.Domain;

@{
    Layout = null;

}
@model List<DataBaseConfig>
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>数据结构文档</title>
    <meta name="renderer" content="webkit">
    <meta charset="utf-8">
    <link href="~/layui/css/layui.css" rel="stylesheet" />
</head>
<body class="layui-layout-body">
    <div class="layui-layout layui-layout-admin">
        <div class="layui-header">
            <div class="layui-logo">数据结构文档</div>
        </div>

        <div class="layui-side layui-bg-black">
            <div class="layui-side-scroll">
                <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
                <ul class="layui-nav layui-nav-tree" lay-filter="test">
                    <li class="layui-nav-item layui-nav-itemed">
                        <a class="" href="javascript:;">数据库连接</a>
                        <dl class="layui-nav-child">

                            @if (Model != null && Model.Any())
                            {
                                int index = 0;
                                foreach (var item in Model)
                                {
                                    <dd>
                                        <a class="J_menuItem" href="/DataBase/index/@item.Id" data-index="@index">@item.Title [@item.DbType]</a>
                                    </dd>
                                    index++;
                                }
                            }
                        </dl>
                    </li>
                </ul>
            </div>
        </div>

        <div class="layui-body">
            <iframe class="J_iframe" name="iframe0" style="width:100%;height:95%;" src="" frameborder="0" data-id="/DataBase/"></iframe>
        </div>

        <div class="layui-footer">
            <!-- 底部固定区域 -->
            © 数据结构文档版权 kjnet 2018
        </div>
    </div>
    <script src="~/script/jquery-1.8.2.min.js"></script>
    <script src="~/script/layer/layer.js"></script>
    <script src="~/layui/layui.js"></script>

    <script src="~/script/Common/btframe.js"></script>
    <script>
        //JavaScript代码区域
        layui.use('element', function () {
            var element = layui.element;

        });
        $(function () {
            $('.J_menuItem').on('click', menuItem);
        })


        function menuItem() {
            $(this).parent().addClass("layui-this").siblings("dd").removeClass("layui-this");
            var dataUrl = $(this).attr('href'),
                dataIndex = $(this).data('index'),
                menuName = $.trim($(this).html()).replace(/<b class\=\"g-static\"\>(.*)<\/b\>/g, '');
            LoadingFunc(true);
            var target = $('.J_iframe:visible');
            var url = target.attr(dataUrl);
            target.attr('src', dataUrl).load(function () {
                HidenLoading();
            });

        //    $(".J_iframe").attr("src", dataUrl);
     
            return false;
        }
    </script>
</body>
</html>